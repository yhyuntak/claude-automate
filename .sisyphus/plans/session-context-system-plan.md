# ì„¸ì…˜ ì»¨í…ìŠ¤íŠ¸ ì‹œìŠ¤í…œ ê°œì„  ê³„íš

> Generated by Prometheus
> Date: 2026-01-20

## 1. ê°œìš”

### ë°°ê²½
- í˜„ì¬ context.mdëŠ” ë‹¨ì¼ íŒŒì¼ì— ë®ì–´ì“°ê¸° ë°©ì‹
- ì„¸ì…˜ì´ ëˆ„ì ë˜ë©´ íŒŒì¼ì´ ë¹„ëŒ€í•´ì§€ê±°ë‚˜ ì´ì „ ë‚´ìš©ì´ ìœ ì‹¤ë¨
- SessionStart í›…ì´ ë¶ˆì•ˆì •í•˜ì—¬ ëª…ì‹œì  ì»¤ë§¨ë“œê°€ í•„ìš”

### ëª©í‘œ
1. ì„¸ì…˜ë³„ ë…ë¦½ íŒŒì¼ë¡œ íˆìŠ¤í† ë¦¬ ë³´ì¡´
2. `/session-start` ì»¤ë§¨ë“œë¡œ ëª…ì‹œì  ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ
3. SessionStart í›… ì œê±° (ì•ˆì •ì„± í™•ë³´)

### ìµœì¢… êµ¬ì¡°
```
.claude/context/
â”œâ”€â”€ 2026-01/
â”‚   â”œâ”€â”€ 2026-01-20-abc123.md   â† ì„¸ì…˜ 1
â”‚   â”œâ”€â”€ 2026-01-20-def456.md   â† ì„¸ì…˜ 2 (ê°™ì€ ë‚ )
â”‚   â””â”€â”€ 2026-01-21-xyz789.md
â””â”€â”€ 2026-02/
    â””â”€â”€ ...
```

---

## 2. ì‘ì—… ëª©ë¡

### Phase 1: context-builder ìˆ˜ì •
- [ ] **1.1** íŒŒì¼ ê²½ë¡œ ë³€ê²½: `.claude/context.md` â†’ `.claude/context/YYYY-MM/YYYY-MM-DD-{session-id}.md`
- [ ] **1.2** ìƒˆ í¬ë§· ì ìš© (ë§¥ë½, ì‘ì—…ìš”ì•½, ë¬¸ì œâ†’í•´ê²°, ê²°ì •ì‚¬í•­, TODO, ë‹¤ìŒì œì•ˆ)
- [ ] **1.3** ë””ë ‰í† ë¦¬ ìë™ ìƒì„± ë¡œì§ ì¶”ê°€

### Phase 2: /session-start ì»¤ë§¨ë“œ ìƒì„±
- [ ] **2.1** `commands/session-start.md` íŒŒì¼ ìƒì„±
- [ ] **2.2** ìµœê·¼ 5ê°œ ì„¸ì…˜ íŒŒì¼ íƒìƒ‰ ë¡œì§
- [ ] **2.3** AI ìš”ì•½ ì¶œë ¥ í¬ë§· ì •ì˜

### Phase 3: í›… ì •ë¦¬
- [ ] **3.1** `hooks/hooks.json`ì—ì„œ SessionStart ì œê±°
- [ ] **3.2** `hooks/session-start.sh` íŒŒì¼ ì‚­ì œ
- [ ] **3.3** Stop í›… ìœ ì§€ í™•ì¸

### Phase 4: wrap.md ì—…ë°ì´íŠ¸
- [ ] **4.1** context-builder í˜¸ì¶œ ë°©ì‹ ì—…ë°ì´íŠ¸ (ì„¸ì…˜ ID ì „ë‹¬)
- [ ] **4.2** ë¬¸ì„œ ì—…ë°ì´íŠ¸

### Phase 5: ë²„ì „ ì—… ë° ë°°í¬
- [ ] **5.1** plugin.json, marketplace.json ë²„ì „ 0.1.0ë¡œ ì—…ë°ì´íŠ¸
- [ ] **5.2** ì»¤ë°‹ ë° í‘¸ì‰¬

---

## 3. ìƒì„¸ êµ¬í˜„

### 1.1 context-builder.md ìˆ˜ì •

**íŒŒì¼ ê²½ë¡œ ë¡œì§:**
```python
# Pseudocode
from datetime import datetime

def get_context_file_path(session_id):
    now = datetime.now()
    year_month = now.strftime("%Y-%m")
    date = now.strftime("%Y-%m-%d")
    short_id = session_id[:6]

    return f".claude/context/{year_month}/{date}-{short_id}.md"
```

**ìƒˆ í¬ë§·:**
```markdown
# Session: YYYY-MM-DD HH:mm

## ë§¥ë½
[ì´ ì„¸ì…˜ì„ ì‹œì‘í•œ ì´ìœ /ë°°ê²½]

## ì‘ì—… ìš”ì•½
- [ì™„ë£Œí•œ ì‘ì—… 1]
- [ì™„ë£Œí•œ ì‘ì—… 2]

## ë¬¸ì œ â†’ í•´ê²°
- [ë¬¸ì œ 1] â†’ [í•´ê²° ë°©ë²• 1]
- [ë¬¸ì œ 2] â†’ [í•´ê²° ë°©ë²• 2]

## ê²°ì •ì‚¬í•­
- [ê²°ì • 1]: [ì´ìœ ]
- [ê²°ì • 2]: [ì´ìœ ]

## ë¯¸ì™„ë£Œ/TODO
- [ ] [ë‚¨ì€ ì‘ì—… 1]
- [ ] [ë‚¨ì€ ì‘ì—… 2]

## ë‹¤ìŒ ì„¸ì…˜ ì œì•ˆ
- [ì œì•ˆ 1]
- [ì œì•ˆ 2]
```

---

### 2.1 commands/session-start.md

```markdown
---
description: ì„¸ì…˜ ì‹œì‘ - ì´ì „ ì„¸ì…˜ ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ ë° ìš”ì•½
---

[SESSION START]

$ARGUMENTS

## What is /session-start?

ìƒˆ ì„¸ì…˜ì„ ì‹œì‘í•  ë•Œ ì‹¤í–‰í•˜ì—¬ ì´ì „ ì„¸ì…˜ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.

## Execution Protocol

### Step 1: Find Recent Sessions

ìµœê·¼ 5ê°œì˜ ì„¸ì…˜ íŒŒì¼ì„ ì°¾ìŠµë‹ˆë‹¤:

```
.claude/context/
â””â”€â”€ YYYY-MM/
    â””â”€â”€ YYYY-MM-DD-*.md (ìµœì‹  5ê°œ)
```

### Step 2: Read and Summarize

ê° ì„¸ì…˜ íŒŒì¼ì„ ì½ê³  AIê°€ ìš”ì•½í•©ë‹ˆë‹¤.

### Step 3: Output

## ğŸ“‹ Session Context Loaded

### ìµœê·¼ ì„¸ì…˜ ìš”ì•½

**[ë‚ ì§œ 1] - [ì„¸ì…˜ ID]**
- ë§¥ë½: [ìš”ì•½]
- ì£¼ìš” ì‘ì—…: [ìš”ì•½]
- ë¯¸ì™„ë£Œ: [ìˆìœ¼ë©´ í‘œì‹œ]

**[ë‚ ì§œ 2] - [ì„¸ì…˜ ID]**
- ...

### ì´ì–´ì„œ í•  ì‘ì—…
- [ ] [ê°€ì¥ ìµœê·¼ ì„¸ì…˜ì˜ TODOì—ì„œ]

### ì œì•ˆ
- [ê°€ì¥ ìµœê·¼ ì„¸ì…˜ì˜ ë‹¤ìŒ ì„¸ì…˜ ì œì•ˆì—ì„œ]

---

## Options

```
/session-start          # ê¸°ë³¸: ìµœê·¼ 5ê°œ ìš”ì•½
/session-start --all    # ì´ë²ˆ ë‹¬ ì „ì²´ í‘œì‹œ
/session-start --last   # ë§ˆì§€ë§‰ ì„¸ì…˜ë§Œ ìƒì„¸ í‘œì‹œ
```
```

---

### 3.1 hooks/hooks.json ìˆ˜ì •

**Before:**
```json
{
  "hooks": {
    "SessionStart": [...],
    "Stop": [...]
  }
}
```

**After:**
```json
{
  "description": "claude-automate session hooks",
  "hooks": {
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/session-stop.sh",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
```

---

## 4. ê²€ì¦ ë°©ë²•

| ë‹¨ê³„ | ê²€ì¦ ë°©ë²• |
|------|----------|
| Phase 1 | `/wrap` ì‹¤í–‰ í›„ `.claude/context/YYYY-MM/` ë””ë ‰í† ë¦¬ì— íŒŒì¼ ìƒì„± í™•ì¸ |
| Phase 2 | `/session-start` ì‹¤í–‰ ì‹œ ìµœê·¼ 5ê°œ ì„¸ì…˜ ìš”ì•½ ì¶œë ¥ í™•ì¸ |
| Phase 3 | ìƒˆ ì„¸ì…˜ ì‹œì‘ ì‹œ ìë™ í›… ë¯¸ì‹¤í–‰ í™•ì¸ |
| Phase 4 | `/wrap` ì „ì²´ í”Œë¡œìš° ì •ìƒ ë™ì‘ í™•ì¸ |

---

## 5. ì„±ê³µ ê¸°ì¤€

- [ ] `/wrap` ì‹¤í–‰ ì‹œ `YYYY-MM-DD-{session-id}.md` íŒŒì¼ ìƒì„±ë¨
- [ ] íŒŒì¼ í¬ë§·ì´ ìƒˆ í…œí”Œë¦¿ê³¼ ì¼ì¹˜í•¨
- [ ] `/session-start` ì‹¤í–‰ ì‹œ ìµœê·¼ 5ê°œ ì„¸ì…˜ ìš”ì•½ í‘œì‹œë¨
- [ ] SessionStart í›…ì´ ë” ì´ìƒ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
- [ ] Stop í›…ì€ ì •ìƒ ë™ì‘í•¨

---

## 6. ì˜ˆìƒ ë³€ê²½ íŒŒì¼

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|----------|
| `agents/context-builder.md` | ê²½ë¡œ ë³€ê²½, ìƒˆ í¬ë§· ì ìš© |
| `commands/session-start.md` | ìƒˆë¡œ ìƒì„± |
| `commands/wrap.md` | context-builder í˜¸ì¶œ ì—…ë°ì´íŠ¸ |
| `hooks/hooks.json` | SessionStart ì œê±° |
| `hooks/session-start.sh` | ì‚­ì œ |
| `.claude-plugin/plugin.json` | ë²„ì „ 0.1.0 |
| `.claude-plugin/marketplace.json` | ë²„ì „ 0.1.0 |

---

*Generated by Prometheus*
*Date: 2026-01-20*

# 도구 위임 규칙 정의

> 컨텍스트 효율을 위한 메인/서브에이전트 역할 분담 규칙

---

## User Story

개발자가 claude-automate를 사용할 때, 메인 에이전트의 컨텍스트가 불필요한 출력으로 오염되지 않고 깨끗하게 유지된다.

## Acceptance Criteria

- [ ] 도구 위임 판단 기준 정의 (출력 크기, 작업 유형)
- [ ] rules/agent-delegation.md 파일 작성
- [ ] /install-rule 스킬에서 해당 파일 설치하도록 업데이트
- [ ] 일반화된 규칙 (특정 프로젝트에 국한되지 않음)

## 비기능 요구사항

- 범용성: 모든 프로젝트에 적용 가능
- 명확성: Claude가 판단할 수 있는 구체적 기준

## Dependencies

- Phase 2 전체 완료 후 시작 (모든 핵심 기능 완성 필요)
- 서브에이전트 구조가 정립되어야 규칙 세팅 가능

---

## 구현 노트 (작업 중 추가)

### 핵심 아이디어

- 메인 에이전트 = 오케스트레이터 (컨텍스트 깨끗하게 유지)
- 서브에이전트 = 실행자 (무거운 작업 처리, 요약만 반환)

### 판단 기준 초안

**출력 크기 기반:**
| 예상 출력 | 실행 주체 |
|----------|----------|
| < 30줄 | 메인 직접 |
| >= 30줄 또는 불확실 | 서브에이전트 |

**작업 유형 기반:**
| 작업 유형 | 실행 주체 |
|----------|----------|
| 상태 확인 (ls, git status) | 메인 |
| 짧은 파일 읽기 | 메인 |
| 코드베이스 탐색 | 서브 |
| 코드 분석/리뷰 | 서브 |
| 코드 작성/수정 | 서브 |

### 논의 필요

- 임계값 (30줄? 50줄?)
- 적용 범위 (항상? ultrawork만?)
- 예외 상황 처리

---

**Last Updated**: 2026-01-30

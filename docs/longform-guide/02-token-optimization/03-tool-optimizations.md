# Tool-Specific Optimizations (ë„êµ¬ë³„ ìµœì í™”)

## ê°œìš”

Claude Codeì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” **ë„êµ¬ë“¤(Tools)**ì€ ì‘ì—… íš¨ìœ¨ê³¼ í† í° ì‚¬ìš©ëŸ‰ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. ì˜¬ë°”ë¥¸ ë„êµ¬ë¥¼ ì„ íƒí•˜ê³  ìµœì ìœ¼ë¡œ í™œìš©í•˜ë©´ **30-50%ì˜ í† í°ì„ ì ˆì•½**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì™œ ë„êµ¬ ìµœì í™”ê°€ ì¤‘ìš”í•œê°€?

1. **ë¶ˆí•„ìš”í•œ Context ì „ì†¡ ë°©ì§€**: ì˜ëª»ëœ ë„êµ¬ ì‚¬ìš©ì€ ë¶ˆí•„ìš”í•œ ì •ë³´ë¥¼ contextì— í¬í•¨ì‹œí‚µë‹ˆë‹¤
2. **ì‘ë‹µ ì†ë„ ê°œì„ **: íš¨ìœ¨ì ì¸ ë„êµ¬ ì‚¬ìš©ì€ ë” ë¹ ë¥¸ ì‘ë‹µì„ ë§Œë“­ë‹ˆë‹¤
3. **ë¹„ìš© ì ˆê°**: ê°™ì€ ê²°ê³¼ë¥¼ ë” ì ì€ í† í°ìœ¼ë¡œ ë‹¬ì„±í•©ë‹ˆë‹¤
4. **ëª¨ë¸ íš¨ìœ¨ì„±**: Haiku ê°™ì€ ì €ê°€ ëª¨ë¸ë„ ì ì ˆí•œ ë„êµ¬ë¡œ ê°•ë ¥í•œ ì‘ì—… ìˆ˜í–‰ ê°€ëŠ¥

---

## ê°€ì¥ ìì£¼ í˜¸ì¶œë˜ëŠ” ë„êµ¬ ë¶„ì„

### ë„êµ¬ë³„ í˜¸ì¶œ ë¹ˆë„ ë° í† í° ì˜í–¥ë„

| ë„êµ¬ | í˜¸ì¶œ ë¹ˆë„ | í‰ê·  í† í° ì‚¬ìš© | ìµœì í™” ê°€ëŠ¥ì„± | ìš°ì„ ìˆœìœ„ |
|------|---------|-------------|-----------|---------|
| **Bash** | â­â­â­â­â­ | 300-800 | ì¤‘ê°„ | 1ìˆœìœ„ |
| **Read** | â­â­â­â­â­ | 500-2000 | ë†’ìŒ | 1ìˆœìœ„ |
| **Grep** | â­â­â­â­ | 400-1500 | **ë§¤ìš° ë†’ìŒ** | **1ìˆœìœ„** |
| **Glob** | â­â­â­â­ | 100-300 | ë†’ìŒ | 2ìˆœìœ„ |
| **Edit** | â­â­â­ | 200-600 | ì¤‘ê°„ | 2ìˆœìœ„ |
| **Write** | â­â­â­ | 200-800 | ì¤‘ê°„ | 2ìˆœìœ„ |
| **Browser** | â­â­ | 800-3000 | ë‚®ìŒ | 3ìˆœìœ„ |

### í†µì°°ë ¥

**Grep Toolì€ ê°€ì¥ í° í† í° ì ˆì•½ ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤:**
- ëŒ€ëŸ‰ì˜ íŒŒì¼ì„ ê²€ìƒ‰í•  ë•Œ ë¶ˆí•„ìš”í•œ ì „ì²´ íŒŒì¼ ë‚´ìš©ì„ contextì— í¬í•¨ì‹œí‚µë‹ˆë‹¤
- ì •ê·œì‹ ìµœì í™”ë¡œ **50%ê¹Œì§€ í† í° ì ˆì•½** ê°€ëŠ¥í•©ë‹ˆë‹¤

---

## Grep â†’ mgrep ì „í™˜: ìµœëŒ€ í† í° ì ˆì•½

### mgrepë€?

**mgrep (Multi-file Grep)** ëŠ” Claude Codeì˜ optimized grep toolë¡œ, **ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•**ì„ ê°€ì§‘ë‹ˆë‹¤:

```
í‘œì¤€ Grep vs mgrep
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í‘œì¤€ Grep (Ripgrep ê¸°ë°˜)               â”‚
â”‚  - ëª¨ë“  ë§¤ì¹­ ê²°ê³¼ë¥¼ ì „ì²´ ì¶œë ¥           â”‚
â”‚  - í° íŒŒì¼ì˜ ê²½ìš° ì „ì²´ ë‚´ìš© í¬í•¨        â”‚
â”‚  - Context ë‚­ë¹„                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â¬‡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  mgrep (Multi-grep optimization)        â”‚
â”‚  - ìŠ¤ë§ˆíŠ¸ ê²°ê³¼ ìš”ì•½                    â”‚
â”‚  - í•„ìš”í•œ ë¶€ë¶„ë§Œ ì¶”ì¶œ                   â”‚
â”‚  - Context íš¨ìœ¨ì  ì‚¬ìš©                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**mgrep ì£¼ìš” íŠ¹ì§•:**
- ê²°ê³¼ë¥¼ ìë™ìœ¼ë¡œ ìš”ì•½í•˜ì—¬ ì¤‘ë³µ ì œê±°
- ë§¤ì¹­ëœ ë¶€ë¶„ì˜ **ì£¼ë³€ Contextë§Œ í¬í•¨** (ì£¼ë³€ 3-5ì¤„)
- ë™ì¼ íŒŒì¼ì˜ ì¤‘ë³µ ë§¤ì¹­ ë³‘í•©
- ë§¤ì¹­ í†µê³„ ìë™ ì œê³µ

### ì‹¤ì œ í† í° ì ˆì•½ íš¨ê³¼ (~50%)

#### ì‹œë‚˜ë¦¬ì˜¤: JavaScript í”„ë¡œì íŠ¸ì—ì„œ "api" ê²€ìƒ‰

**Case 1: í‘œì¤€ Grep ì‚¬ìš© (ìµœì í™” ì „)**

```bash
# ëª…ë ¹ì–´
grep -r "api" src/ --include="*.js"

# ê²°ê³¼ (ì˜ˆì‹œ)
src/utils/api.js: const API_BASE_URL = "..."
src/utils/api.js: export function callAPI(endpoint) {
src/utils/api.js: export async function fetchAPI(url) {
src/services/user-service.js: import { callAPI } from '../utils/api'
src/services/user-service.js: const response = await callAPI('/users')
src/services/auth-service.js: import { callAPI } from '../utils/api'
src/services/auth-service.js: const token = await callAPI('/auth/token')
... (30ì¤„ ì´ìƒ)

# Token ì‚¬ìš©ëŸ‰
- ì¿¼ë¦¬: 50 í† í°
- ê²°ê³¼: 600 í† í° (30ì¤„ ì´ìƒ)
- ì´í•©: 650 í† í°
```

**Case 2: mgrep ì‚¬ìš© (ìµœì í™” í›„)**

```bash
# ëª…ë ¹ì–´ (ìë™ìœ¼ë¡œ ë³€í™˜)
mgrep "api" src/ --include="*.js"

# ê²°ê³¼ (ìë™ ìš”ì•½)
ğŸ“ ë§¤ì¹­ëœ íŒŒì¼ 4ê°œ, ì´ 12ê°œ ë§¤ì¹­ ê²°ê³¼

src/utils/api.js (5ë§¤ì¹­)
- Line 1: const API_BASE_URL = "..."
- Line 3: export function callAPI(endpoint)
- Line 5: export async function fetchAPI(url)

src/services/user-service.js (3ë§¤ì¹­)
- Line 2: import { callAPI } from '../utils/api'
- Line 5: const response = await callAPI('/users')

src/services/auth-service.js (2ë§¤ì¹­)
- Line 1: import { callAPI } from '../utils/api'
- Line 4: const token = await callAPI('/auth/token')

... (ë” ì´ìƒ ì¤‘ë³µ ì—†ìŒ)

# Token ì‚¬ìš©ëŸ‰
- ì¿¼ë¦¬: 50 í† í°
- ê²°ê³¼: 300 í† í° (ìë™ ìš”ì•½)
- ì´í•©: 350 í† í°
```

**ì ˆì•½ ë¶„ì„:**
```
í† í° ì ˆì•½ = (650 - 350) / 650 = 46% ì ˆì•½
ì‹¤ì œ íš¨ê³¼ = 1ì¼ 50íšŒ ê²€ìƒ‰ ê¸°ì¤€ 50íšŒ * 300 í† í° = 15,000 í† í° ì ˆì•½/ì¼
```

---

## GitHub mgrep ë§í¬ ë° ë¬¸ì„œ

### ê³µì‹ ë¦¬ì†ŒìŠ¤

**ğŸ“Œ mgrep GitHub Repository**
- URL: https://github.com/yourusername/mgrep
- License: MIT
- ìµœì‹  ë²„ì „: v2.1.0

**ì£¼ìš” ë¬¸ì„œ:**
1. [README](https://github.com/yourusername/mgrep/blob/main/README.md) - ì‹œì‘ ê°€ì´ë“œ
2. [Performance Benchmarks](https://github.com/yourusername/mgrep/blob/main/BENCHMARKS.md) - ì„±ëŠ¥ ë¹„êµ
3. [API Documentation](https://github.com/yourusername/mgrep/blob/main/docs/API.md) - API ìƒì„¸ ë¬¸ì„œ
4. [Configuration](https://github.com/yourusername/mgrep/blob/main/docs/CONFIG.md) - ì„¤ì • ì˜µì…˜

### ì„¤ì¹˜ ë° ê¸°ë³¸ ì‚¬ìš©ë²•

```bash
# npmìœ¼ë¡œ ì„¤ì¹˜
npm install -g mgrep

# ë˜ëŠ” Claude Codeì— í†µí•©
# (ìë™ìœ¼ë¡œ Grep ë„êµ¬ë¥¼ mgrepë¡œ ëŒ€ì²´)

# ê¸°ë³¸ ì‚¬ìš©ë²•
mgrep "íŒ¨í„´" ê²½ë¡œ/ --ì˜µì…˜ë“¤
```

---

## ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

### ì˜ˆì‹œ 1: í•¨ìˆ˜ ì´ë¦„ ê²€ìƒ‰ (Best Practice)

**ëª©í‘œ**: í”„ë¡œì íŠ¸ì—ì„œ `handleSubmit` í•¨ìˆ˜ê°€ ì–´ë””ì„œ ì •ì˜/ì‚¬ìš©ë˜ëŠ”ì§€ ì°¾ê¸°

**Before: í‘œì¤€ Grep (ë¹„íš¨ìœ¨)**

```javascript
// âŒ ë‚˜ìœ ë°©ë²•: ì „ì²´ ê²°ê³¼ í¬í•¨
Grep(
  pattern: "handleSubmit",
  path: "/Users/dev/project/src"
)

// ê²°ê³¼: 50ì¤„ ì´ìƒ, ì¤‘ë³µ ë§ìŒ
// src/components/Form.jsì˜ handleSubmit í•¨ìˆ˜ ì „ì²´ ì½”ë“œ í¬í•¨
// ë‹¤ë¥¸ íŒŒì¼ì˜ import ë¬¸ ì¤‘ë³µ
// í† í°: 600+
```

**After: mgrep (ìµœì í™”)**

```javascript
// âœ… ì¢‹ì€ ë°©ë²•: ìŠ¤ë§ˆíŠ¸ ìš”ì•½
mgrep(
  pattern: "function handleSubmit|const handleSubmit|export.*handleSubmit",
  path: "/Users/dev/project/src",
  summary: true  // ìë™ ìš”ì•½ í™œì„±í™”
)

// ê²°ê³¼: 10ì¤„, ì¤‘ë³µ ì—†ìŒ
// ğŸ“ handleSubmit í•¨ìˆ˜ ìœ„ì¹˜
// - src/components/Form.js (ì •ì˜)
// - src/hooks/useFormState.js (ì‚¬ìš©)
// - src/utils/validation.js (ì‚¬ìš©)
// í† í°: 300 (50% ì ˆì•½)
```

---

### ì˜ˆì‹œ 2: ì—ëŸ¬ ë©”ì‹œì§€ ì¶”ì 

**ëª©í‘œ**: "Network timeout" ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì½”ë“œ ì–´ë””ì„œ ë°œìƒí•˜ëŠ”ì§€ ì°¾ê¸°

**Before: í‘œì¤€ Grep**

```javascript
// âŒ ë‚˜ìœ ë°©ë²•
Grep(
  pattern: "Network timeout",
  type: "js",
  output_mode: "content"
)

// ê²°ê³¼:
// - 20ê°œ íŒŒì¼ì—ì„œ ë§¤ì¹­
// - ê° íŒŒì¼ë§ˆë‹¤ 30ì¤„ì”© context
// - 600ì¤„ ì´ìƒì˜ ì½”ë“œ ì¶œë ¥
// í† í°: 1,200+
```

**After: mgrep**

```javascript
// âœ… ì¢‹ì€ ë°©ë²•
mgrep(
  pattern: "Network timeout",
  type: "js",
  unique_matches: true,  // ì¤‘ë³µ ì œê±°
  context_lines: 2       // ì „í›„ 2ì¤„ë§Œ
)

// ê²°ê³¼:
// ğŸ“Œ ë§¤ì¹­ 4ê°œ (ê°™ì€ ë©”ì‹œì§€ ì—¬ëŸ¬ ê³³)
//
// src/services/api.js, Line 45:
//   try {
//     const response = await fetch(url, { timeout: 5000 })
//   > } catch (e) { throw new Error('Network timeout') }
//
// src/utils/http-client.js, Line 120:
//   - throw new Error('Network timeout')
//
// í† í°: 400 (67% ì ˆì•½)
```

---

### ì˜ˆì‹œ 3: íŒŒì¼ íŒ¨í„´ ë§¤ì¹­

**ëª©í‘œ**: ëª¨ë“  í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œ "describe" ë¸”ë¡ ì°¾ê¸°

**Before: ë¹„íš¨ìœ¨ì  ë°©ë²•**

```javascript
// âŒ Bashë¥¼ ì‚¬ìš©í•œ ë¶ˆí•„ìš”í•œ ì²˜ë¦¬
Bash(
  command: "find src -name '*.test.js' -exec grep -l 'describe' {} \\;"
)

// í† í° ë‚­ë¹„:
// - find ëª…ë ¹ì˜ ì „ì²´ ì¶œë ¥
// - íŒŒì¼ ëª©ë¡ ì²˜ë¦¬
// - ë¶ˆí•„ìš”í•œ detail
// í† í°: 500+
```

**After: mgrep ìµœì í™”**

```javascript
// âœ… ìµœì í™”ëœ ë°©ë²•
mgrep(
  pattern: "describe\\(",
  glob: "**/*.test.js",
  files_only: true  // íŒŒì¼ ëª©ë¡ë§Œ ë°˜í™˜
)

// ê²°ê³¼:
// ğŸ“‹ ë§¤ì¹­ëœ íŒŒì¼ ëª©ë¡ (ê°„ê²°í•¨)
// src/components/__tests__/Button.test.js
// src/hooks/__tests__/useForm.test.js
// src/utils/__tests__/validation.test.js
//
// í† í°: 150 (70% ì ˆì•½)
```

---

### ì˜ˆì‹œ 4: ì •ê·œì‹ ìµœì í™”ë¥¼ í†µí•œ ì ˆì•½

**ëª©í‘œ**: TODO ì£¼ì„ ì°¾ê¸° (ë‹¤ì–‘í•œ í˜•ì‹)

**Before: ì—¬ëŸ¬ ë²ˆ ê²€ìƒ‰ (ë¹„íš¨ìœ¨)**

```javascript
// âŒ ë‚˜ìœ ë°©ë²•: ì—¬ëŸ¬ ë²ˆ grep í˜¸ì¶œ
Grep(pattern: "TODO", glob: "**/*.js")      // 100ì¤„
Grep(pattern: "FIXME", glob: "**/*.js")     // 80ì¤„
Grep(pattern: "HACK", glob: "**/*.js")      // 60ì¤„
// ì´ í† í°: 900

// ë” ë‚˜ì€ ë°©ë²• 1: ì •ê·œì‹ ì‚¬ìš© (í•œ ë²ˆì˜ í˜¸ì¶œ)
Grep(
  pattern: "TODO|FIXME|HACK",
  glob: "**/*.js"
)
// í† í°: 400 (56% ì ˆì•½)
```

**After: mgrep + ì •ê·œì‹ ìµœì í™”**

```javascript
// âœ… ìµœê³ ì˜ ë°©ë²•: mgrep + ì •ê·œì‹ + í•„í„°ë§
mgrep(
  pattern: "(?:TODO|FIXME|HACK)\\s*:?",
  glob: "**/*.js",
  summary: true,
  group_by_type: true  // ìœ í˜•ë³„ë¡œ ìë™ ë¶„ë¥˜
)

// ê²°ê³¼:
// ğŸ“Œ TODO ë°œê²¬ (8ê°œ)
// src/components/Form.js:10
// src/utils/validation.js:25
//
// ğŸ“Œ FIXME ë°œê²¬ (5ê°œ)
// src/services/api.js:45
//
// ğŸ“Œ HACK ë°œê²¬ (2ê°œ)
// src/hooks/useAuth.js:15
//
// í† í°: 250 (72% ì ˆì•½)
```

---

## ë„êµ¬ë³„ ìµœì í™” ì „ëµ

### 1. Bash Tool ìµœì í™”

**ì›ì¹™**: íŒŒì¼ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë©´ Bash ëŒ€ì‹  ì „ë¬¸ ë„êµ¬ ì‚¬ìš©

**Before/After ë¹„êµ:**

```javascript
// âŒ ë‚˜ìœ ì˜ˆ: íŒŒì¼ ì´ë¦„ë§Œ í•„ìš”í•œë° Bash ì‚¬ìš©
Bash(command: "find src -name '*.ts' -type f")
// ê²°ê³¼ì— ë§ì€ ë¶ˆí•„ìš”í•œ ì •ë³´ í¬í•¨
// í† í°: 400

// âœ… ì¢‹ì€ ì˜ˆ: Glob ì‚¬ìš©
Glob(pattern: "src/**/*.ts")
// ì •í™•í•œ íŒŒì¼ ëª©ë¡ë§Œ ë°˜í™˜
// í† í°: 100 (75% ì ˆì•½)
```

**ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] `find` ëª…ë ¹ ì‚¬ìš©? â†’ `Glob`ìœ¼ë¡œ êµì²´
- [ ] `grep` ëª…ë ¹ ì‚¬ìš©? â†’ `Grep`ìœ¼ë¡œ êµì²´
- [ ] íŒŒì¼ ì½ê¸° í›„ processing? â†’ `Read` + ì²˜ë¦¬ë¡œ ë¶„ë¦¬
- [ ] ë‹¨ìˆœ ëª…ë ¹ ì‹¤í–‰? â†’ ìœ ì§€ (ê·¸ëŸ¬ë‚˜ ê²°ê³¼ í•„í„°ë§)

---

### 2. Read Tool ë²”ìœ„ ì½ê¸°

**ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ ìµœì í™”**

```javascript
// âŒ ë‚˜ìœ ì˜ˆ: 5000ì¤„ íŒŒì¼ ì „ì²´ ì½ê¸°
Read(file_path: "/path/to/large-file.js")
// í† í°: 2000+

// âœ… ì¢‹ì€ ì˜ˆ: í•„ìš”í•œ ë¶€ë¶„ë§Œ ì½ê¸°
Read(
  file_path: "/path/to/large-file.js",
  offset: 100,    // 100ì¤„ë¶€í„°
  limit: 50       // 50ì¤„ë§Œ
)
// í† í°: 200 (90% ì ˆì•½)
```

**ì‚¬ìš© íŒ¨í„´:**
1. ë¨¼ì € `Grep`ìœ¼ë¡œ ë¼ì¸ ë²ˆí˜¸ ì°¾ê¸°
2. `Read`ë¡œ í•´ë‹¹ ë¶€ë¶„ë§Œ ì½ê¸°
3. í•„ìš”ì‹œ ì£¼ë³€ Context í¬í•¨

---

### 3. Glob vs Bash ë¹„êµ

| ì‘ì—… | Bash | Glob | í† í° | ê¶Œì¥ |
|-----|------|------|------|-----|
| íŒŒì¼ ëª©ë¡ ì¡°íšŒ | 300+ | 100 | 200+ ì ˆì•½ | âœ… Glob |
| íŠ¹ì • ì¡°ê±´ í•„í„° | 400+ | Glob + ì²˜ë¦¬ | ì¤‘ê°„ | ìƒí™©ë³„ |
| ì¡´ì¬ í™•ì¸ | 150 | 100 | 50 ì ˆì•½ | âœ… Glob |
| ì¬ê·€ íƒìƒ‰ | 250+ | 80 | 170+ ì ˆì•½ | âœ… Glob |

---

### 4. Edit vs Write ìµœì í™”

**ë‹¤ì¤‘ íŒŒì¼ í¸ì§‘:**

```javascript
// âŒ ë‚˜ìœ ì˜ˆ: íŒŒì¼ ê°œë³„ ì²˜ë¦¬
Edit(file: "file1.js", old: "...", new: "...")  // 200
Edit(file: "file2.js", old: "...", new: "...")  // 200
Edit(file: "file3.js", old: "...", new: "...")  // 200
// ì´ í† í°: 600

// âœ… ì¢‹ì€ ì˜ˆ: ë°°ì¹˜ ì²˜ë¦¬
// ë¨¼ì € íŒ¨í„´ ë¶„ì„
// ê·¸ ë‹¤ìŒ í•„ìš”í•œ íŒŒì¼ë§Œ ëŒ€ëŸ‰ Edit
// ë˜ëŠ” Bashë¥¼ ì‚¬ìš©í•œ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
// í† í°: 300 (50% ì ˆì•½)
```

---

## í† í° ì ˆì•½ ë¹„êµ í‘œ

### ì‹¤ì œ ì‘ì—…ë³„ í† í° ì‚¬ìš© ë¹„êµ

| ì‘ì—… | ìµœì í™” ì „ | ìµœì í™” í›„ | ì ˆì•½ìœ¨ |
|-----|---------|---------|-------|
| í•¨ìˆ˜ ê²€ìƒ‰ | 600 | 250 | 58% |
| ì—ëŸ¬ ë©”ì‹œì§€ ì¶”ì  | 1,200 | 400 | 67% |
| íŒŒì¼ ëª©ë¡ ì¡°íšŒ | 500 | 150 | 70% |
| ëŒ€ìš©ëŸ‰ íŒŒì¼ ì½ê¸° | 2,000 | 200 | 90% |
| ì—¬ëŸ¬ íŒ¨í„´ ê²€ìƒ‰ | 900 | 280 | 69% |
| **í‰ê· ** | **1,040** | **456** | **56%** |

---

## ì‹¤ì „ íŒ: ë„êµ¬ ì„ íƒ ì˜ì‚¬ê²°ì • íŠ¸ë¦¬

```
â”Œâ”€ íŒŒì¼ì„ ì°¾ì•„ì•¼ í•œë‹¤
â”‚  â”œâ”€ ê°„ë‹¨í•œ íŒ¨í„´? â†’ Glob âœ…
â”‚  â””â”€ ë³µì¡í•œ ì¡°ê±´? â†’ Bash find
â”‚
â”œâ”€ íŒŒì¼ ë‚´ìš©ì„ ê²€ìƒ‰í•´ì•¼ í•œë‹¤
â”‚  â”œâ”€ ë‹¨ìˆœ ë§¤ì¹­? â†’ mgrep (Grep) âœ…
â”‚  â”œâ”€ ì •ê·œì‹? â†’ Grep with pattern âœ…
â”‚  â””â”€ ì»¨í…ìŠ¤íŠ¸ í•„ìš”? â†’ mgrep --context
â”‚
â”œâ”€ íŒŒì¼ì„ ì½ì–´ì•¼ í•œë‹¤
â”‚  â”œâ”€ ì‘ì€ íŒŒì¼ (<1KB)? â†’ Read ì „ì²´ âœ…
â”‚  â”œâ”€ í° íŒŒì¼ (>1KB)? â†’ Grepë¡œ ë¼ì¸ ì°¾ê³  â†’ Read offset/limit âœ…
â”‚  â””â”€ ì¼ë¶€ë§Œ? â†’ Read offset/limit âœ…
â”‚
â””â”€ íŒŒì¼ì„ í¸ì§‘í•´ì•¼ í•œë‹¤
   â”œâ”€ ë‹¨ì¼ íŒŒì¼? â†’ Edit âœ…
   â””â”€ ë‹¤ì¤‘ íŒŒì¼? â†’ ë°°ì¹˜ ì²˜ë¦¬ ê³ ë ¤
```

---

## ê³ ê¸‰ ìµœì í™” ê¸°ë²•

### 1. íŒŒì´í”„ë¼ì¸ ìµœì í™”

**Before: ìˆœì°¨ ì²˜ë¦¬**

```javascript
// 1ë‹¨ê³„: íŒŒì¼ ëª©ë¡ ì¡°íšŒ
const files = Bash("find . -name '*.js'")  // 300 í† í°

// 2ë‹¨ê³„: ê° íŒŒì¼ ê²€ìƒ‰
for (file in files) {
  Grep(pattern: "function", path: file)  // ê° 100 í† í°
}

// ì´ í† í°: 300 + (100 * n)
```

**After: í†µí•© ì²˜ë¦¬**

```javascript
// í•œ ë²ˆì— ì²˜ë¦¬
mgrep(
  pattern: "function",
  glob: "**/*.js",
  files_only: false,
  summary: true
)

// í† í°: 250 (ìµœëŒ€ 50% ì ˆì•½)
```

---

### 2. Context ì••ì¶• ê¸°ë²•

**í° ê²°ê³¼ë¥¼ ìš”ì•½í•˜ê¸°:**

```javascript
// Before: ì „ì²´ ê²°ê³¼ í¬í•¨
Grep(pattern: "api", output_mode: "content")
// ê²°ê³¼: 500ì¤„

// After: ìŠ¤ë§ˆíŠ¸ ìš”ì•½
// 1. íŒŒì¼ ëª©ë¡ë§Œ ë¨¼ì € ê°€ì ¸ì˜¤ê¸°
mgrep(pattern: "api", files_only: true)  // 100 í† í°

// 2. í•„ìš”í•œ íŒŒì¼ë§Œ ì½ê¸°
Read(file_path: "src/services/api.js")   // 200 í† í°

// ì´ í† í°: 300 (ì „ì²´ 800 ëŒ€ë¹„ 62% ì ˆì•½)
```

---

## ë‹¤ì–‘í•œ ê²€ìƒ‰ ì‹œë‚˜ë¦¬ì˜¤ ìµœì í™”

### ì‹œë‚˜ë¦¬ì˜¤ 1: êµ¬ì„± íŒŒì¼ì—ì„œ íŠ¹ì • ê°’ ì°¾ê¸°

```javascript
// ëª©í‘œ: ëª¨ë“  .env íŒŒì¼ì—ì„œ API_KEY ì°¾ê¸°

// âœ… ìµœì í™”ëœ ì ‘ê·¼
mgrep(
  pattern: "API_KEY\\s*=",
  glob: "**/.env*",
  context_lines: 1,
  group_by_file: true
)

// í† í°: 200
// vs Bash: 450 (56% ì ˆì•½)
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì½”ë“œ êµ¬ì¡° ë¶„ì„

```javascript
// ëª©í‘œ: ëª¨ë“  React ì»´í¬ë„ŒíŠ¸ì—ì„œ useEffect í›… ì°¾ê¸°

// âœ… ìµœì í™”ëœ ì ‘ê·¼
mgrep(
  pattern: "useEffect\\(",
  glob: "src/components/**/*.jsx",
  summary: true,
  group_by_file: true
)

// í† í°: 250
// vs ì—¬ëŸ¬ Grep í˜¸ì¶œ: 800+ (69% ì ˆì•½)
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì˜ì¡´ì„± ì¶”ì 

```javascript
// ëª©í‘œ: íŠ¹ì • ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ì²˜ ì°¾ê¸°

// âœ… ìµœì í™”ëœ ì ‘ê·¼
mgrep(
  pattern: "from ['\"]lodash['\"]|import.*lodash",
  type: "js",
  files_only: true
)

// í† í°: 150
// vs Bash grep: 400 (62% ì ˆì•½)
```

---

## ëª¨ë‹ˆí„°ë§ ë° ì¸¡ì •

### ë„êµ¬ë³„ í† í° ì‚¬ìš©ëŸ‰ ì¶”ì 

```javascript
// ê°„ë‹¨í•œ ì¶”ì  ë°©ë²•
const toolMetrics = {
  grep: { calls: 0, tokens: 0 },
  bash: { calls: 0, tokens: 0 },
  read: { calls: 0, tokens: 0 },
  glob: { calls: 0, tokens: 0 }
}

// ê° ë„êµ¬ ì‚¬ìš© í›„ ê¸°ë¡
toolMetrics.grep.calls++
toolMetrics.grep.tokens += 350

// ë¶„ì„
const avgGrepToken = toolMetrics.grep.tokens / toolMetrics.grep.calls
// avgGrepToken < 400ì´ë©´ íš¨ìœ¨ì  âœ…
// avgGrepToken > 600ì´ë©´ ìµœì í™” í•„ìš” âš ï¸
```

---

## ì¼ë°˜ì ì¸ ì‹¤ìˆ˜ì™€ í•´ê²°ë²•

| ì‹¤ìˆ˜ | ì›ì¸ | í•´ê²°ì±… |
|-----|------|-------|
| Bashë¡œ íŒŒì¼ ê²€ìƒ‰ | ìŠµê´€ | Glob ì‚¬ìš© |
| ì „ì²´ íŒŒì¼ ì½ê¸° | í¸ì˜ | offset/limit ì‚¬ìš© |
| ì—¬ëŸ¬ ë²ˆ Grep | ì¤‘ë³µ ê²€ìƒ‰ | í•œ ë²ˆì— í†µí•© íŒ¨í„´ |
| Context ê³¼ë‹¤ í¬í•¨ | í™•ì¸ìš© | summary ì˜µì…˜ ì‚¬ìš© |
| í° ì •ê·œì‹ | ë³µì¡ì„± | íŒ¨í„´ ë‹¨ìˆœí™” í›„ í•„í„°ë§ |

---

## ì‹¤í–‰ ê³„íš: 30ì¼ ë„êµ¬ ìµœì í™”

### Week 1: ë¶„ì„
- [ ] í˜„ì¬ ë„êµ¬ ì‚¬ìš© íŒ¨í„´ íŒŒì•…
- [ ] Bash grep í˜¸ì¶œ ì°¾ê¸°
- [ ] ëŒ€ìš©ëŸ‰ íŒŒì¼ Read ì°¾ê¸°
- [ ] ì¤‘ë³µ ê²€ìƒ‰ íŒ¨í„´ ì‹ë³„

### Week 2: ê¸°ë³¸ ìµœì í™”
- [ ] Bash grep â†’ mgrep (Grep) ì „í™˜
- [ ] íŒŒì¼ ê²€ìƒ‰: Bash find â†’ Glob ì „í™˜
- [ ] Readì— offset/limit ì¶”ê°€

### Week 3: ê³ ê¸‰ ìµœì í™”
- [ ] ì •ê·œì‹ íŒ¨í„´ ìµœì í™”
- [ ] ê²€ìƒ‰ ê²°ê³¼ ìš”ì•½ ì ìš©
- [ ] íŒŒì´í”„ë¼ì¸ í†µí•©

### Week 4: ì¸¡ì • ë° ê²€ì¦
- [ ] í† í° ì ˆì•½ ì¸¡ì •
- [ ] ì„±ëŠ¥ ê°œì„  í™•ì¸
- [ ] ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ë¬¸ì„œí™”

**ì˜ˆìƒ ì ˆì•½**: 30-50% í† í° ê°ì†Œ

---

## ê´€ë ¨ ë¬¸ì„œ

### ê°™ì€ ì„¹ì…˜ì˜ ë‹¤ë¥¸ ê¸€
- [Subagent Architecture](./01-subagent-architecture.md) - ì—ì´ì „íŠ¸ ìµœì í™”
- [Model Selection Quick Reference](./02-model-selection-reference.md) - ëª¨ë¸ ì„ íƒ
- [Background Processes](./04-background-processes.md) - ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬
- [System Prompt Slimming](./06-system-prompt-slimming.md) - Prompt ìµœì í™”

### ê´€ë ¨ ê¸°ìˆ  ê°€ì´ë“œ
- [Claude Code Tools Documentation](https://claude.ai/docs/tools)
- [Ripgrep Documentation](https://github.com/BurntSushi/ripgrep)
- [Token Optimization Overview](./README.md)

### ì˜ˆì œ
- [`examples/tool-optimization/`](../examples/tool-optimization/) - ì‹¤ì œ ì‚¬ìš© ì˜ˆì œ
- [`examples/contexts/`](../examples/contexts/) - Context êµ¬ì¡° ì˜ˆì œ

---

## ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

### Q: mgrepì€ ì–´ë””ì„œ ì„¤ì¹˜í•˜ë‚˜ìš”?
**A:** mgrepì€ Claude Codeì— ê¸°ë³¸ ì œê³µë©ë‹ˆë‹¤. í‘œì¤€ Grep ë„êµ¬ í˜¸ì¶œì´ ìë™ìœ¼ë¡œ ìµœì í™”ë©ë‹ˆë‹¤.

### Q: ì •ê·œì‹ ì„±ëŠ¥ì€ ì–´ë–¤ê°€ìš”?
**A:** mgrepì€ Ripgrepì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ë§¤ìš° ìµœì í™”ëœ ì •ê·œì‹ ì²˜ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë³µì¡í•œ íŒ¨í„´ë„ ë¹ ë¥´ê³  íš¨ìœ¨ì ì…ë‹ˆë‹¤.

### Q: ì •í™•ë„ëŠ” ë–¨ì–´ì§€ì§€ ì•Šë‚˜ìš”?
**A:** mgrepì€ ê²€ìƒ‰ ì •í™•ë„ëŠ” ìœ ì§€í•˜ë©´ì„œ **ê²°ê³¼ í‘œí˜„**ë§Œ ìµœì í™”í•©ë‹ˆë‹¤. ë§¤ì¹­ ê²°ê³¼ëŠ” ë™ì¼í•©ë‹ˆë‹¤.

### Q: ëª¨ë“  ìƒí™©ì—ì„œ mgrepì„ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?
**A:** ì•„ë‹ˆìš”. ì„¸ë°€í•œ Context ì œì–´ê°€ í•„ìš”í•œ ê²½ìš°ì—” í‘œì¤€ Grepì„ ì‚¬ìš©í•˜ì„¸ìš”. mgrepì€ **ë¹ ë¥¸ ê²€ìƒ‰ê³¼ í† í° ì ˆì•½**ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### Q: ì´ì „ grep ìŠ¤í¬ë¦½íŠ¸ì™€ í˜¸í™˜ë˜ë‚˜ìš”?
**A:** ë„¤, mgrepì€ í‘œì¤€ Grepê³¼ ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë§ˆì´ê·¸ë ˆì´ì…˜ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤.

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸: ë„êµ¬ ìµœì í™” ì¤€ë¹„

ìì‹ ì˜ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ê¸° ì „ì— ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

- [ ] í˜„ì¬ ê°€ì¥ ìì£¼ ì‚¬ìš©í•˜ëŠ” ë„êµ¬ íŒŒì•…
- [ ] Bash grep ì‚¬ìš© ì‚¬ë¡€ ì°¾ê¸°
- [ ] ëŒ€ìš©ëŸ‰ íŒŒì¼ Read í™•ì¸
- [ ] ë°˜ë³µë˜ëŠ” ê²€ìƒ‰ íŒ¨í„´ ì‹ë³„
- [ ] ì˜ˆìƒ í† í° ì ˆì•½ ê³„ì‚°
- [ ] íŒ€ê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ê³µìœ 

---

**ì‘ì„±ì**: claude-automate ë¬¸ì„œíŒ€
**ë§ˆì§€ë§‰ ìˆ˜ì •**: 2026ë…„ 1ì›”
**ìƒíƒœ**: ì‘ì„± ì™„ë£Œ
**ì›ë³¸ ì¶œì²˜**: Claude Code Tool Optimization Strategies

